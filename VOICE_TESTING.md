# üé§ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. **–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** –ø–æ –æ–±—Ä–∞–∑—Ü—É artem.integrator
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ file_id** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∞—É–¥–∏–æ –¥–∞–Ω–Ω—ã—Ö (voice, audio, document)
3. **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏** –∏–∑ agent.py –≤ webhook.py
4. **–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º

### Workflow –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:
```
–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è ‚Üí text ‚Üí AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É `/voice_test` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
```
üé§ –°—Ç–∞—Ç—É—Å –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
‚Ä¢ –°–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤: ‚úÖ –ì–æ—Ç–æ–≤  
‚Ä¢ Whisper –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: ‚úÖ
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–û–±—ã—á–Ω—ã–µ –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** (voice) - —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∑–∞–ø–∏—Å–∏ –≤ Telegram
- **–ê—É–¥–∏–æ —Ñ–∞–π–ª—ã** (audio) - –∑–∞–≥—Ä—É–∑–∫–∞ MP3/M4A —Ñ–∞–π–ª–æ–≤
- **–ê—É–¥–∏–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã** (document) - –∑–∞–≥—Ä—É–∑–∫–∞ OGG/WAV —Ñ–∞–π–ª–æ–≤

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Business API
–ï—Å–ª–∏ –±–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Business –∞–∫–∫–∞—É–Ω—Ç—É, –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Ç–∞–º.

## üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
tail -f logs/bot.log | grep -E "(–≥–æ–ª–æ—Å|voice|üé§|üîë|file_id)"
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
- `/voice_test` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- `/voice_debug` - —Ç–µ—Å—Ç —Å —Ñ–µ–π–∫–æ–≤—ã–º file_id

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ:
```
üé§ –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ–º –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç [–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
üîë –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π file_id: AwACAgIAAxkB...
‚úÖ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: [—Ç–µ–∫—Å—Ç_–≥–æ–ª–æ—Å–æ–≤–æ–≥–æ_—Å–æ–æ–±—â–µ–Ω–∏—è]
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:
1. **"Voice service not available"** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ OPENAI_API_KEY
2. **"No file_id in voice data"** - –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º file_id (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)
3. **"Download failed"** - –ø—Ä–æ–±–ª–µ–º–∞ —Å Telegram API –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é —Ñ–∞–π–ª–∞
4. **"Transcription failed"** - –ø—Ä–æ–±–ª–µ–º–∞ —Å OpenAI Whisper API

## üìä –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ file_id –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ö–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ GitHub

–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéØ