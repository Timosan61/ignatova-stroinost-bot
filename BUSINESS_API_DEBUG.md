# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Telegram Business API

## üìã –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç —á–µ—Ä–µ–∑ Business API, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—ã –ø–∏—à—É—Ç –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–∞—à–µ–≥–æ Premium –∞–∫–∫–∞—É–Ω—Ç–∞.

## üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö updates
```
https://bot-production-472c.up.railway.app/debug/last-updates
```
–ü–æ–∫–∞–∂–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö webhook —Å–æ–±—ã—Ç–∏–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∏—Ö–æ–¥—è—Ç –ª–∏ `business_message` –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç –≤–∞–º
- –ï—Å—Ç—å –ª–∏ –≤ –Ω–∏—Ö `business_connection_id`

### 2. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```bash
python check_business_api.py
```
–ü—Ä–æ–≤–µ—Ä–∏—Ç:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ webhook
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –±–æ—Ç–∞
- –ù–∞–ª–∏—á–∏–µ business updates

### 3. –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ Business API
POST –∑–∞–ø—Ä–æ—Å –Ω–∞:
```
https://bot-production-472c.up.railway.app/test/business-send
```
Body:
```json
{
  "chat_id": "ID_—á–∞—Ç–∞",
  "business_connection_id": "ID_—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",
  "text": "–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
}
```

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Telegram

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Business –≤ Telegram
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Settings** ‚Üí **Business** ‚Üí **Chatbots**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - –í—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–æ—Ç (@textilprofi_bot)
   - –í–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è "Reply to messages"
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

### 2. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞
1. –£–¥–∞–ª–∏—Ç–µ –±–æ—Ç–∞ –∏–∑ Business –Ω–∞—Å—Ç—Ä–æ–µ–∫
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É
3. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∑–∞–Ω–æ–≤–æ
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Premium –ø–æ–¥–ø–∏—Å–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Premium –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
- Business —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Å Premium

## üìä –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ Railway

### –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:
1. **–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞:**
   ```
   üìä Update #X —Ç–∏–ø: business_message
   üì® Business message –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: {...}
   ```

2. **–ó–Ω–∞—á–µ–Ω–∏–µ business_connection_id:**
   ```
   üìä Business message - connection_id: '–∑–Ω–∞—á–µ–Ω–∏–µ'
   ```

3. **–û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
   ```
   ‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ business —Å–æ–æ–±—â–µ–Ω–∏—è: –æ–ø–∏—Å–∞–Ω–∏–µ
   ```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç business_message**
   - –ë–æ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ Business –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
   - Webhook –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç business updates
   - –ü—Ä–æ–±–ª–µ–º–∞ —Å Premium –ø–æ–¥–ø–∏—Å–∫–æ–π

2. **business_connection_id = None**
   - Telegram –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ID
   - –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

3. **–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ**
   - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç business_connection_id
   - –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ Business API
   - –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

1. **–°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**
   - –°–∫—Ä–∏–Ω—à–æ—Ç `/debug/last-updates` –ø–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞–ø–∏—Å–∞—Ç—å
   - –õ–æ–≥–∏ Railway —Å –æ—à–∏–±–∫–∞–º–∏
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `check_business_api.py`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
   - –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `reply_to_message_id`
   - –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –±–æ—Ç–∞, –∞ –Ω–µ —á–µ—Ä–µ–∑ Business API

3. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Telegram:**
   - –ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞

## üìù –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ü–æ–∫–∞ Business API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫ –≤ Telegram Business
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Quick Replies –≤ Business –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö